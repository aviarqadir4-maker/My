<!DOCTYPE html>
<html dir="rtl" lang="ku">
<head>
    <meta charset="UTF-8">
    <title>Ú©Û†Ù†ØªÚ•Û†ÚµÛŒ Ù¾Ø§Ø±ÛØ²Ø±Ø§ÙˆÛŒ Ø¬ÛŒÙ‡Ø§Ù†ÛŒ</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    
    <style>
        /* Ù‡Û•Ù…Ø§Ù† Ø³ØªØ§ÛŒÙ„ÛŒ Ø®Û†Øª Ù„ÛØ±Û• Ø¯Ø§Ø¨Ù†Û */
        body { display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; font-family: sans-serif; background: #2c3e50; color: white; }
        .card { background: white; padding: 40px; border-radius: 30px; text-align: center; color: #333; }
        #number { font-size: 80px; font-weight: bold; }
        button { padding: 10px 20px; font-size: 20px; cursor: pointer; margin: 5px; }
        .unlocked .controls button { opacity: 1; filter: none; pointer-events: auto; }
        .controls button { opacity: 0.3; filter: grayscale(1); pointer-events: none; }
    </style>
</head>
<body>

<div class="card" id="main-card">
    <h2 id="status-textText">Ø¯Û†Ø®ÛŒ Ø³Û•ÛŒØ±Ú©Ø±Ø¯Ù† ğŸ‘ï¸</h2>
    <div id="number">0</div>
    
    <div id="btn-container" class="controls">
        <button onclick="update(1)">+</button>
        <button onclick="update(-1)">-</button>
    </div>

    <button id="lock-btn" onclick="checkCode()">Ú©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ Ù‚ÙÚµ ğŸ”’</button>
</div>

<script>
    // Ù¡. Ø²Ø§Ù†ÛŒØ§Ø±ÛŒÛŒÛ•Ú©Ø§Ù†ÛŒ Ø®Û†Øª Ù„ÛØ±Û• Ø¯Ø§Ø¨Ù†Û
    const firebaseConfig = {
        apiKey: "AIzaSyBOkQ3BOGpFnVuYo1664QvsOh1FO36VvW4",
        authDomain: "mybfj-6b83d.firebaseapp.com",
        databaseURL: "https://mybfj-6b83d-default-rtdb.firebaseio.com",
        projectId: "mybfj-6b83d",
        storageBucket: "mybfj-6b83d.firebasestorage.app",
        messagingSenderId: "534313885128",
        appId: "1:534313885128:web:2ecb89d1443256839a34fd"
    };

    // Ù¢. Ø¯Û•Ø³ØªÙ¾ÛÚ©Ø±Ø¯Ù†
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();
    let count = 0;

    // Ù£. Ø®ÙˆÛÙ†Ø¯Ù†Û•ÙˆÛ•ÛŒ Ø¯Ø§ØªØ§ Ù„Û• Ø³ÛØ±Ú¤Û•Ø±Û•ÙˆÛ• (Ø¦Û•Ù…Û• Ø¨Û† Ù‡Û•Ù…ÙˆÙˆ Ø¨Û•Ú©Ø§Ø±Ù‡ÛÙ†Û•Ø±Ø§Ù† Ú©Ø§Ø± Ø¯Û•Ú©Ø§Øª)
    db.ref('global_count').on('value', (snapshot) => {
        count = snapshot.val() || 0;
        document.getElementById('number').innerText = count;
    });

    // Ù¤. Ú¯Û†Ú•ÛŒÙ†ÛŒ Ø¯Ø§ØªØ§ (ØªÛ•Ù†Ù‡Ø§ Ú©Ø§ØªÛÚ© Ù‚ÙÚµÛ•Ú©Û• Ú©Ø±Ø§ÙˆÛ•ØªÛ•ÙˆÛ•)
    function update(val) {
        let newCount = count + val;
        db.ref('/').update({
            global_count: newCount
        });
    }

    // Ù¥. Ø³ÛŒØ³ØªÛ•Ù…ÛŒ Ù‚ÙÚµÛ•Ú©Û•
    function checkCode() {
        const code = prompt("Ú©Û†Ø¯ÛŒ Ù†Ù‡ÛÙ†ÛŒ Ø¨Ù†ÙˆÙˆØ³Û•:");
        if (code === "6778") {
            document.getElementById('main-card').classList.add('unlocked');
            document.getElementById('status-textText').innerText = "Ø¯Û†Ø®ÛŒ Ø¯Û•Ø³ØªÚ©Ø§Ø±ÛŒÚ©Ø±Ø¯Ù† âœ…";
            document.getElementById('lock-btn').style.display = "none";
        } else {
            alert("Ù‡Û•ÚµÛ•ÛŒÛ•!");
        }
    }
</script>

</body>
</html>
